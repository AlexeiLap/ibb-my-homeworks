# Домашнее задание к занятию «4.1. Финансовые системы»

## Задача №1 - ГОСТ Р 57580

Вам необходимо изучить ГОСТ Р 57580. Документ состоит из двух частей:
1. ГОСТ Р 57580.1-2017
1. ГОСТ Р 57580.2-2018

Ответьте на следующие вопросы:
1. Что такое контур безопасности?

3.10	контур безопасности: Совокупность объектов информатизации, определяемая областью
применения настоящего стандарта, используемых для реализации бизнес-процессов и (или) техно-
логических процессов финансовой организации единой степени критичности (важности), для которой
финансовой организацией применяется единая политика (режим) защиты информации (единый набор
требований к обеспечению защиты информации).

3. Что/кто является субъектом доступа (в рамках данного стандарта)? Какие основные типы их рассматриваются?

3.14	субъект доступа: Работник финансовой организации или иное лицо, осуществляющий фи-
зический и (или) логический доступ, или программный сервис, осуществляющий логический доступ.
Примечание — В составе основных типов субъектов доступа в настоящем стандарте как минимум рас-
сматриваются следующие:
-	пользователи — субъекты доступа, в том числе клиенты финансовой организации, осуществляющие до-
ступ к объектам и (или) ресурсам доступа с целью использования финансовых услуг, предоставляемых информа-
ционной инфраструктурой финансовой организации;
-	эксплуатационный персонал — субъекты доступа, в том числе представители подрядных организаций,
которые решают задачи обеспечения эксплуатации и (или) администрирования объектов и (или) ресурсов досту-
па, для которых необходимо осуществление логического доступа, включая задачи, связанные с эксплуатацией и
администрированием технических мер защиты информации;
-	технический (вспомогательный) персонал — субъекты доступа, в том числе представители подрядных ор-
ганизаций, решающие задачи, связанные с обеспечением эксплуатации объектов доступа, для выполнения которых 
не требуется осуществление логического доступа, или выполняющие хозяйственную деятельность и осуществля-
ющие физический доступ к объектам доступа без цели их непосредственного использования;
-	программные сервисы — процессы выполнения программ в информационной инфраструктуре, осущест-
вляющие логический доступ к ресурсам доступа

1. Что такое компрометация аутентификационных данных?

3.26	компрометация аутентификационных данных: Событие, связанное с возникновением
возможности использования аутентификационных данных субъектом, не являющимся легальным вла-
дельцем указанных аутентификационных данных.

3. Что такое фактор аутентификации? На какие категории подразделяются факторы? 

3.27	фактор аутентификации: Блок данных, используемых при аутентификации субъекта или
объекта доступа.
Примечания
1	Факторы аутентификации подразделяются на следующие три категории:
-	что-то, что субъект или объект доступа знает, например, пароли легальных субъектов доступа, ПИН-коды,
-	что-то, чем субъект или объект доступа обладает, например, данные, хранимые на персональных техниче-
ских устройствах аутентификации: токенах, смарт-картах и иных носителях;
-	что-то. что свойственно субъекту или объекту доступа, например, биометрические данные физического
лица — легального субъекта доступа

1. Что такое однофакторная и многофакторная аутентификация?

3.28	однофакторная аутентификация: Аутентификация, для осуществления которой использу-
ется один фактор аутентификации.

3.29	многофакторная аутентификация: Аутентификация, для осуществления которой использу-
ются два и более различных факторов аутентификации.

3. Чем событие ЗИ отличается от инцидента ЗИ?

Событие - это изменение состояния объектов, указывающее на возможный инцидент защиты информации, а 
индицент защиты информации - это события, которые могут привести к нарушениям бизнес-процессов или нарушить безопасность.
Индиценты - это классифицированные возможные события по типам, для которых рассматриваются и разрабатываются мероприятия по предотвращению
или компенсации последствий.

3.31	событие защиты информации: Идентифицированное возникновение и (или) изменение
состояния объектов информатизации финансовой организации, действия работников финансовой
организации и (или) иных лиц. указывающие на возможный (потенциальный) инцидент защиты инфор-
мации.

3.32	инцидент защиты информации: Одно или серия связанных нежелательных или неожи-
данных событий защиты информации, которые могут привести к риску нарушения выполнения биз-
нес-процессов, технологических процессов финансовой организации и (или) нарушить безопасность
информации.

1. Что такое компенсирующие меры? В каких случаях они применяются?

Есть базовый состав мер защиты информации, определенный стандартом, но
финансовой организацией могут разрабатываться иные (компенсирующие) меры, направленные на нейтрализацию угроз
безопасности информации, определенных в модели угроз, и нарушителей безопасности информации
финансовой организации.
В этом случае финансовой организацией должно быть проведено обоснование применения ком-
пенсирующих мер защиты информации.
Применение компенсирующих мер защиты информации должно быть направлено на обработку
операционного риска, связанного с реализацией тех же угроз безопасности информации, на нейтрали-
зацию которых направлены меры из базового состава мер защиты информации настоящего стандарта,
не применяемые финансовой организацией в связи с невозможностью технической реализации и (или)
экономической целесообразностью.

3. Сколько уровней ЗИ определяет стандарт? Перечислите их.

6.7	Настоящий стандарт определяет три уровня защиты информации:
-	уровень 3 — минимальный;
-	уровень 2 — стандартный;
-	уровень 1 — усиленный.
В финансовой организации формируются один или несколько контуров безопасности, для кото-
рых может быть установлен разный уровень защиты информации.
Уровень защиты информации финансовой организации для конкретного контура безопасности
устанавливается нормативными актами Банка России на основе:
-	вида деятельности финансовой организации, состава предоставляемых финансовых услуг, ре-
ализуемых бизнес-процессов и (или) технологических процессов в рамках данного контура безопас-
ности;
-	объема финансовых операций;
-	размера организации, отнесения финансовой организации к категории малых предприятий и
микропредприятий;
-	значимости финансовой организации для финансового рынка и национальной платежной си-
стемы.

1. Какой из всех возможных объектов атак нарушитель выберет с наибольшей вероятностью (с точки зрения авторов стандарта)?

При разработке моделей угроз и нарушителей безопасности информации необходимо учитывать, что из всех
возможных объектов атак с наибольшей вероятностью нарушитель выберет наиболее слабо контролируемый, где
его деятельность будет оставаться необнаруженной максимально долго. Поэтому все критические операции в
рамках бизнес-процессов и технологических процессов финансовой организации, где осуществляется любое вза-
имодействие субъектов доступа с объектами информатизации, должны особенно тщательно контролироваться.

Одной из основных целей злоумышленника является осуществление НСД к информационным ресурсам на
уровне АС и приложений, эксплуатируемых в рамках бизнес-процессов или технологических процессов финансо-
вой организации, что более эффективно для злоумышленника и опаснее для финансовой организации, чем осу-
ществление НСД через иные уровни, требующего специфических знаний, ресурсов и времени
Целью злоумышленника также может являться нарушение непрерывности предоставления финансовых ус-
луг осуществления бизнес-процессов или технологических процессов финансовой организации, например, по-
средством распространения вредоносного кода, целенаправленных компьютерных атак или нарушения правил
эксплуатации на уровне аппаратного обеспечения.

Наибольшими возможностями для нанесения ущерба финансовой организации обладают ее собствен-
ные работники В этом случае содержанием деятельности нарушителя является прямое нецелевое использование
предоставленных прав физического и (или) логического доступа При этом он будет стремиться к сокрытию следов
своей деятельности.


1. Для оценки полноты реализации процессов системы ЗИ используют качественную модель оценивания. 
Приведите уровни соответствия с их описанием, указанные в данной модели?

6.9	Для оценки полноты реализации процессов системы ЗИ используют следующую качествен-
ную модель оценивания:
а)	нулевой уровень соответствия: организационные и технические меры процесса системы ЗИ
не реализуются или реализуются в единичных случаях. Общие подходы (способы) реализации органи-
зационных и технических мер процесса системы ЗИ не установлены. Контроль и совершенствование
реализации организационных и технических мер процесса системы ЗИ не осуществляются:
б)	первый уровень соответствия: организационные и технические меры процесса системы ЗИ
реализуются в незначительном количестве, бессистемно и/или эпизодически. Общие подходы (спосо-
бы) реализации организационных и технических мер процесса системы ЗИ не установлены. Контроль
и совершенствование реализации организационных и технических мер процесса системы ЗИ не осу-
ществляются:
в)	второй уровень соответствия: организационные и технические меры процесса системы ЗИ
реализуются в значительном количестве на постоянной основе. Общие подходы (способы) реализации
организационных и технических мер процесса системы ЗИ установлены в единичных случаях. Реали-
зация организационных и технических мер процесса системы ЗИ осуществляется на усмотрение ис-
полнителя. Контроль и совершенствование реализации организационных и технических мер процесса
системы ЗИ практически не осуществляются:
г)	третий уровень соответствия: организационные и технические меры процесса системы ЗИ
реализуются в значительном количестве на постоянной основе в соответствии с общими подходами
(способами), установленными в финансовой организации. Контроль и совершенствование реализации
организационных и технических мер процесса системы ЗИ осуществляются бессистемно и/или эпизо-
дически;
д)	четвертый уровень соответствия: организационные и технические меры процесса системы
ЗИ реализуются в полном объеме на постоянной основе в соответствии с общими подходами (способа-
ми), установленными в финансовой организации. В финансовой организации в основном реализованы
контроль и совершенствование реализации организационных и технических мер процесса системы ЗИ;
е)	пятый уровень соответствия: организационные и технические меры процесса системы ЗИ
реализуются в полном объеме на постоянной основе в соответствии с общими подходами (способами),
установленными в финансовой организации. В финансовой организации реализованы постоянный кон-
троль и необходимое своевременное совершенствование реализации организационных и технических
мер процесса системы ЗИ.

3. Что рекомендуется использовать в качестве основных источников свидетельств для оценки соответствия ЗИ?

6.13	Оценку соответствия ЗИ следует основывать на свидетельствах, в качестве основных источ-
ников которых рекомендуется использовать:
•	документы проверяемой организации и иные материалы проверяемой организации в бумажном
или электронном виде и. при необходимости, документы третьих лиц. относящиеся к обеспечению ЗИ
финансовой организации и находящиеся в распоряжении проверяемой организации:
•	устные высказывания сотрудников проверяемой организации в процессе проводимых опросов в
области оценки соответствия ЗИ:
•	результаты наблюдений членов проверяющей группы за процессами системы ЗИ и деятельно-
стью сотрудников проверяемой организации в области оценки соответствия ЗИ;
•	параметры конфигураций и настроек технических объектов информатизации и средств ЗИ;
•	технические и программные средства сбора свидетельств полноты реализации мер ЗИ (анализ
электронных журналов регистрации, анализ фактических настроек, анализ уязвимостей, проведение
тестирования на проникновение и т.л.).
Выбор конкретных источников свидетельств при проведении оценки соответствия ЗИ осуществля-
ет проверяющая организация (проверяющая группа) с учетом предложений проверяемой организации
и обеспечения максимальной достоверности оценки соответствия ЗИ.


## Задача №2 - Тинькофф Мобильный SDK

Банк Тинькофф предлагает [Мобильный SDK](https://oplata.tinkoff.ru/develop/sdk/) для встраивания в мобильные приложения возможностей оплаты с карт.

![](pic/sdk.png)

SDK (Software Development Kit) - набор инструментов для упрощения разработки. 
В частности, в случае Tinkoff - это набор уже реализованных программных блоков, которые программисты могут использовать для ускорения процесса интеграции платежей в собственное мобильное приложение.

По традиции, мы на всякий случай локально сохранили копии документов для [Android](assets/android.pdf) и [iOS](assets/ios.pdf).

### Справка

OpenSSL позволяет [вычислять хэши по разным алгоритмам](https://www.openssl.org/docs/manmaster/man1/dgst.html), например, для md5:

```shell script
openssl dgst -md5 file.txt
```

Где `file.txt` - это файл, внутри которого хранятся данные, для которых нужно рассчитать хэш.

Конечно же, это не всегда удобно (плюс некоторые редакторы добавляют в файл перенос строки и у вас получается неверный хеш).

Современные командные оболочки предлагают нам синтаксис, позволяющий направить на вход одному приложению (аналог ввода "руками") данные из вывода другого приложения. Это так называемый pipe (труба).

Выглядит это следующим образом:

```shell script
echo -n 'Netology' | openssl dgst -md5
(stdin)= f9b9c75ad5aa4b6acd7cf3d1a282d5b1
```

Где команда `echo` выводит строку `Netology`, опция `-n` не добавляет перенос строки, а символ `|` "перенаправляет" этот вывод на вход команды
 `openssl`. Таким образом, нам не обязательно вводить хэш руками или сохранять в файл.

Кроме того, в рамках решения задачи вам понадобится использовать [кодировку base64](https://tools.ietf.org/html/rfc4648).

Base64 - это кодировка, используемая для кодирования данных при передаче в ситуациях, когда окружение допускает только передачу в виде символов, 
соответствующих [ASCII](https://tools.ietf.org/html/rfc20).

Для этого есть соответствующие флаги [в команде enc](https://www.openssl.org/docs/manmaster/man1/openssl-enc.html):
* закодировать файл в base64: `openssl enc -base64 -in msg.txt -out msg.base64`
* декодировать из base64: `openssl enc -d -base64 -in msg.base64 -out msg.txt`

### Задача

#### Токен сообщения

В рамках документации описано формирование подписи сообщения (в терминологии документа - `Token`), которая позволяет верифицировать, 
что сообщение действительно от вас. Вам нужно найти описание этого алгоритма и подписать следующий документ:

```json
{
  "TerminalKey": "TerminalKey",
  "Amount": "100000",
  "OrderId": "10001",
  "Description": "Подарочная карта на 1000 рублей"
}
```
1.Добавили пароль отсортировали по ключам
```json
{
"Amount": "100000",
"Description": "Подарочная карта на 1000 рублей",
"OrderId": "10001",
"Password":"TopSecret",
 "TerminalKey": "TerminalKey"  
}
```
2.Конкатенировать значения
`100000Подарочная карта на 1000 рублей10001TopSecretTerminalKey`
3.Вычислить SHA-256
`7e9189aa15689d518e89135ab7c71e1227db5d59b2200d5a5eee08c4a9b2be15`
`echo -n '100000Подарочная карта на 1000 рублей10001TopSecretTerminalKey' | openssl dgst -sha256
(stdin)= 7e9189aa15689d518e89135ab7c71e1227db5d59b2200d5a5eee08c4a9b2be15`

В качестве пароля (password) используйте строку `TopSecret`. 

<details>
<summary>Подсказка</summary>

Нехорошо смотреть подсказки 😈!

Но, если не нашли, то в [Android](assets/android.pdf) на 36-ой странице, в [iOS](assets/ios.pdf) на 61.

Отдельно есть [пошаговая инструкция](https://oplata.tinkoff.ru/develop/api/request-sign/).
</details>

В качестве результата пришлите Token для указанного документа.